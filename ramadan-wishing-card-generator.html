<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ramadan Wishing Card Generator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0c3b2e 0%, #1a5c4a 50%, #2a7c62 100%);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            padding: 20px 0;
            margin-bottom: 30px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            color: #ffd166;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: #c9f0dd;
            margin-bottom: 20px;
        }
        
        .app-container {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            justify-content: center;
        }
        
        .card-container {
            flex: 1;
            min-width: 300px;
            max-width: 550px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        .controls-container {
            flex: 1;
            min-width: 300px;
            max-width: 550px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .ramadan-card {
            width: 100%;
            height: 400px;
            background: linear-gradient(145deg, #1a472a 0%, #2e703e 100%);
            border-radius: 15px;
            padding: 30px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            position: relative;
            overflow: hidden;
            box-shadow: inset 0 0 30px rgba(0, 0, 0, 0.2), 0 10px 20px rgba(0, 0, 0, 0.3);
            border: 5px solid #ffd166;
        }
        
        .moon {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: #ffd166;
            border-radius: 50%;
            box-shadow: 0 0 30px #ffd166;
        }
        
        .moon::after {
            content: '';
            position: absolute;
            top: 10px;
            right: 10px;
            width: 20px;
            height: 20px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 50%;
        }
        
        .card-title {
            font-size: 2.2rem;
            color: #ffd166;
            margin-bottom: 20px;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }
        
        .card-message {
            font-size: 1.5rem;
            line-height: 1.6;
            margin-bottom: 20px;
            padding: 0 20px;
            color: #fff;
        }
        
        .card-sender {
            font-size: 1.2rem;
            color: #c9f0dd;
            margin-top: 20px;
            font-style: italic;
        }
        
        .card-pattern {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(255, 209, 102, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(255, 209, 102, 0.1) 0%, transparent 20%);
            z-index: 0;
            pointer-events: none;
        }
        
        .section-title {
            font-size: 1.5rem;
            color: #ffd166;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid rgba(255, 209, 102, 0.3);
        }
        
        .auto-wishes {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 12px;
            margin-bottom: 25px;
        }
        
        .wish-btn {
            padding: 12px;
            background: rgba(255, 209, 102, 0.15);
            border: 1px solid rgba(255, 209, 102, 0.3);
            border-radius: 10px;
            color: #ffd166;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.95rem;
        }
        
        .wish-btn:hover {
            background: rgba(255, 209, 102, 0.3);
            transform: translateY(-3px);
        }
        
        .card-designs {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            margin-bottom: 25px;
        }
        
        .design-btn {
            aspect-ratio: 1;
            border-radius: 8px;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .design-btn:hover {
            transform: scale(1.05);
        }
        
        .design-btn.active {
            border-color: #ffd166;
            box-shadow: 0 0 10px #ffd166;
        }
        
        .color1 { background: linear-gradient(45deg, #1a472a, #2e703e); }
        .color2 { background: linear-gradient(45deg, #0c3b2e, #1a5c4a); }
        .color3 { background: linear-gradient(45deg, #2d1b69, #5a3d8c); }
        .color4 { background: linear-gradient(45deg, #8b0000, #b22222); }
        .color5 { background: linear-gradient(45deg, #004d40, #00796b); }
        .color6 { background: linear-gradient(45deg, #1a237e, #303f9f); }
        .color7 { background: linear-gradient(45deg, #4a148c, #7b1fa2); }
        .color8 { background: linear-gradient(45deg, #bf360c, #e64a19); }
        .color9 { background: linear-gradient(45deg, #33691e, #689f38); }
        .color10 { background: linear-gradient(45deg, #006064, #0097a7); }
        
        .customize-section {
            margin-bottom: 25px;
        }
        
        .custom-input {
            width: 100%;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            color: white;
            font-size: 1rem;
            margin-bottom: 15px;
        }
        
        .custom-input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }
        
        .action-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
            margin-bottom: 25px;
        }
        
        .action-btn {
            flex: 1;
            min-width: 140px;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s ease;
        }
        
        .share-btn {
            background: linear-gradient(45deg, #25D366, #128C7E);
            color: white;
        }
        
        .whatsapp-btn {
            background: linear-gradient(45deg, #25D366, #128C7E);
            color: white;
        }
        
        .edit-btn {
            background: linear-gradient(45deg, #ffd166, #ffb347);
            color: #333;
        }
        
        .send-btn {
            background: linear-gradient(45deg, #4285F4, #34A853);
            color: white;
        }
        
        .action-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 7px 15px rgba(0, 0, 0, 0.2);
        }
        
        /* FIXED SOCIAL BUTTONS SECTION */
        .social-section {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .social-buttons {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            width: 100%;
        }
        
        .social-btn {
            padding: 14px 10px;
            border-radius: 10px;
            border: none;
            color: white;
            font-size: 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all 0.3s ease;
            min-height: 50px;
            text-align: center;
        }
        
        .social-btn i {
            font-size: 1.2rem;
        }
        
        .whatsapp-btn-social {
            background: linear-gradient(45deg, #25D366, #128C7E);
            grid-column: span 3;
        }
        
        .facebook { background: linear-gradient(45deg, #3b5998, #2d4373); }
        .twitter { background: linear-gradient(45deg, #1da1f2, #0d8bd9); }
        .instagram { background: linear-gradient(45deg, #e1306c, #c13584); }
        .copy-link { background: linear-gradient(45deg, #6c757d, #545b62); }
        .telegram { background: linear-gradient(45deg, #0088cc, #006699); }
        .pinterest { background: linear-gradient(45deg, #bd081c, #9c0718); }
        
        .social-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .snowflake {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            pointer-events: none;
            opacity: 0.8;
            z-index: 100;
        }
        
        .firework {
            position: absolute;
            width: 5px;
            height: 5px;
            border-radius: 50%;
            pointer-events: none;
            z-index: 100;
        }
        
        .instruction {
            background: rgba(255, 209, 102, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            border-left: 4px solid #ffd166;
            font-size: 0.95rem;
            color: #c9f0dd;
        }
        
        .site-link {
            display: block;
            text-align: center;
            margin-top: 20px;
            padding: 12px;
            background: rgba(255, 209, 102, 0.2);
            border-radius: 10px;
            color: #ffd166;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .site-link:hover {
            background: rgba(255, 209, 102, 0.3);
            transform: translateY(-3px);
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #c9f0dd;
            font-size: 0.9rem;
        }
        
        /* Notification styles */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 209, 102, 0.95);
            color: #333;
            padding: 15px 20px;
            border-radius: 10px;
            z-index: 1000;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }
        
        @media (max-width: 768px) {
            .app-container {
                flex-direction: column;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .card-message {
                font-size: 1.3rem;
            }
            
            .auto-wishes {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }
            
            .card-designs {
                grid-template-columns: repeat(5, 1fr);
            }
            
            .social-buttons {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .whatsapp-btn-social {
                grid-column: span 2;
            }
        }
        
        @media (max-width: 480px) {
            .social-buttons {
                grid-template-columns: 1fr;
            }
            
            .whatsapp-btn-social {
                grid-column: span 1;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .action-btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-moon"></i> Ramadan Mubarak Generator</h1>
            <p class="subtitle">Create beautiful Ramadan greetings to share with family and friends</p>
        </header>
        
        <div class="app-container">
            <!-- Card Display Section -->
            <div class="card-container">
                <h2 class="section-title">Your Ramadan Card</h2>
                <div class="ramadan-card" id="ramadanCard">
                    <div class="moon"></div>
                    <div class="card-pattern"></div>
                    <h3 class="card-title" id="cardTitle">Ramadan Mubarak</h3>
                    <p class="card-message" id="cardMessage">May this Ramadan bring you peace, prosperity, and blessings. May Allah accept your prayers and fasts.</p>
                    <p class="card-sender" id="cardSender">From: Your Name</p>
                </div>
                
                <a href="#" class="site-link" id="siteLink">
                    <i class="fas fa-link"></i> https://ramadanwishes.com/card/<?php echo rand(1000,9999); ?>
                </a>
                
                <p class="instruction">
                    <i class="fas fa-info-circle"></i> Your card is ready! Customize it with different designs and messages, then share with one click.
                </p>
            </div>
            
            <!-- Controls Section -->
            <div class="controls-container">
                <h2 class="section-title">Customize Your Card</h2>
                
                <div class="customize-section">
                    <h3 class="section-title">Auto Wishes</h3>
                    <div class="auto-wishes" id="autoWishes">
                        <!-- Auto wishes will be inserted here by JavaScript -->
                    </div>
                </div>
                
                <div class="customize-section">
                    <h3 class="section-title">Card Designs</h3>
                    <div class="card-designs" id="cardDesigns">
                        <!-- Card design buttons will be inserted here by JavaScript -->
                    </div>
                </div>
                
                <div class="customize-section">
                    <h3 class="section-title">Custom Message</h3>
                    <textarea class="custom-input" id="customMessage" placeholder="Type your custom message here..."></textarea>
                    <input type="text" class="custom-input" id="senderName" placeholder="Your name (e.g., From: Ahmed)">
                </div>
                
                <div class="action-buttons">
                    <button class="action-btn edit-btn" id="editBtn">
                        <i class="fas fa-edit"></i> Edit Card
                    </button>
                    <button class="action-btn send-btn" id="sendBtn">
                        <i class="fas fa-paper-plane"></i> Send to Friend
                    </button>
                </div>
                
                <!-- FIXED SOCIAL BUTTONS SECTION -->
                <div class="social-section">
                    <h3 class="section-title">Share Your Card</h3>
                    <div class="social-buttons">
                        <button class="social-btn whatsapp-btn-social" id="whatsappBtn">
                            <i class="fab fa-whatsapp"></i> WhatsApp
                        </button>
                        <button class="social-btn facebook" id="facebookBtn">
                            <i class="fab fa-facebook-f"></i> Facebook
                        </button>
                        <button class="social-btn twitter" id="twitterBtn">
                            <i class="fab fa-twitter"></i> Twitter
                        </button>
                        <button class="social-btn instagram" id="instagramBtn">
                            <i class="fab fa-instagram"></i> Instagram
                        </button>
                        <button class="social-btn telegram" id="telegramBtn">
                            <i class="fab fa-telegram"></i> Telegram
                        </button>
                        <button class="social-btn copy-link" id="copyLinkBtn">
                            <i class="fas fa-copy"></i> Copy Link
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Made with <i class="fas fa-heart" style="color:#ffd166;"></i> for Ramadan 2024 | May Allah bless you and your family</p>
        </footer>
    </div>

    <script>
        // Auto-generated wishes
        const autoWishes = [
            "May this Ramadan bring you peace, prosperity, and blessings. May Allah accept your prayers and fasts.",
            "Ramadan Mubarak! May Allah shower His blessings upon you and your family.",
            "Wishing you a blessed Ramadan filled with happiness, prosperity, and success.",
            "May the holy month of Ramadan bring you joy, health, and wealth.",
            "As the crescent moon is sighted, may Allah fill your life with peace and prosperity. Ramadan Kareem!",
            "May this Ramadan be a guiding light for the rest of the year. Ramadan Mubarak!",
            "May Allah's blessings be with you today and always. Have a peaceful and blessed Ramadan.",
            "Wishing you and your family a Ramadan full of blessings, joy, and happiness.",
            "May the spirit of Ramadan illuminate your soul and bring peace to your heart.",
            "Ramadan Kareem! May Allah accept your good deeds, forgive your transgressions, and ease your suffering."
        ];

        // Card designs with colors and patterns
        const cardDesigns = [
            { name: "Green Theme", className: "color1" },
            { name: "Dark Green", className: "color2" },
            { name: "Purple Theme", className: "color3" },
            { name: "Red Theme", className: "color4" },
            { name: "Teal Theme", className: "color5" },
            { name: "Blue Theme", className: "color6" },
            { name: "Deep Purple", className: "color7" },
            { name: "Orange Theme", className: "color8" },
            { name: "Light Green", className: "color9" },
            { name: "Cyan Theme", className: "color10" }
        ];

        // DOM elements
        const ramadanCard = document.getElementById('ramadanCard');
        const cardTitle = document.getElementById('cardTitle');
        const cardMessage = document.getElementById('cardMessage');
        const cardSender = document.getElementById('cardSender');
        const autoWishesContainer = document.getElementById('autoWishes');
        const cardDesignsContainer = document.getElementById('cardDesigns');
        const customMessage = document.getElementById('customMessage');
        const senderName = document.getElementById('senderName');
        const siteLink = document.getElementById('siteLink');
        
        // Initialize auto wishes buttons
        autoWishes.forEach((wish, index) => {
            const wishButton = document.createElement('button');
            wishButton.className = 'wish-btn';
            wishButton.textContent = `Wish ${index + 1}`;
            wishButton.addEventListener('click', () => {
                cardMessage.textContent = wish;
                // Reset custom message input
                customMessage.value = '';
            });
            autoWishesContainer.appendChild(wishButton);
        });

        // Initialize card design buttons
        cardDesigns.forEach((design, index) => {
            const designButton = document.createElement('button');
            designButton.className = `design-btn ${design.className}`;
            designButton.title = design.name;
            if (index === 0) designButton.classList.add('active');
            
            designButton.addEventListener('click', () => {
                // Remove active class from all design buttons
                document.querySelectorAll('.design-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                
                // Add active class to clicked button
                designButton.classList.add('active');
                
                // Change card background
                applyCardDesign(design.className);
            });
            
            cardDesignsContainer.appendChild(designButton);
        });

        // Function to apply card design
        function applyCardDesign(designClass) {
            // Map design classes to gradient colors
            const gradients = {
                'color1': ['#1a472a', '#2e703e'],
                'color2': ['#0c3b2e', '#1a5c4a'],
                'color3': ['#2d1b69', '#5a3d8c'],
                'color4': ['#8b0000', '#b22222'],
                'color5': ['#004d40', '#00796b'],
                'color6': ['#1a237e', '#303f9f'],
                'color7': ['#4a148c', '#7b1fa2'],
                'color8': ['#bf360c', '#e64a19'],
                'color9': ['#33691e', '#689f38'],
                'color10': ['#006064', '#0097a7']
            };
            
            const colors = gradients[designClass];
            ramadanCard.style.background = `linear-gradient(145deg, ${colors[0]} 0%, ${colors[1]} 100%)`;
        }

        // Custom message input event
        customMessage.addEventListener('input', () => {
            if (customMessage.value.trim() !== '') {
                cardMessage.textContent = customMessage.value;
            }
        });

        // Sender name input event
        senderName.addEventListener('input', () => {
            if (senderName.value.trim() !== '') {
                cardSender.textContent = `From: ${senderName.value}`;
            } else {
                cardSender.textContent = 'From: Your Name';
            }
        });

        // Edit button functionality
        document.getElementById('editBtn').addEventListener('click', () => {
            // Highlight the custom message field
            customMessage.focus();
            customMessage.style.border = '2px solid #ffd166';
            customMessage.style.boxShadow = '0 0 10px rgba(255, 209, 102, 0.5)';
            
            // Remove highlight after 2 seconds
            setTimeout(() => {
                customMessage.style.border = '1px solid rgba(255, 255, 255, 0.2)';
                customMessage.style.boxShadow = 'none';
            }, 2000);
            
            // Show notification
            showNotification('You can now edit the card message and sender name');
        });

        // Send to friend button functionality
        document.getElementById('sendBtn').addEventListener('click', () => {
            const recipient = prompt("Enter recipient's name:");
            if (recipient) {
                const originalSender = cardSender.textContent.replace('From: ', '');
                cardSender.textContent = `To: ${recipient} | From: ${originalSender === 'Your Name' ? 'You' : originalSender}`;
                
                // Show success message
                showNotification(`Card customized for ${recipient}! Now you can share it.`);
            }
        });

        // Share buttons functionality - FIXED SOCIAL BUTTONS
        document.getElementById('whatsappBtn').addEventListener('click', () => {
            const message = `*${cardTitle.textContent}*\n\n${cardMessage.textContent}\n\n${cardSender.textContent}\n\nShare your own Ramadan card: ${window.location.href}`;
            const encodedMessage = encodeURIComponent(message);
            window.open(`https://wa.me/?text=${encodedMessage}`, '_blank');
        });

        document.getElementById('facebookBtn').addEventListener('click', () => {
            const url = encodeURIComponent(window.location.href);
            const quote = encodeURIComponent(`${cardTitle.textContent} - ${cardMessage.textContent.substring(0, 100)}...`);
            window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}&quote=${quote}`, '_blank');
        });

        document.getElementById('twitterBtn').addEventListener('click', () => {
            const text = encodeURIComponent(`${cardTitle.textContent} - ${cardMessage.textContent.substring(0, 100)}...`);
            const url = encodeURIComponent(window.location.href);
            window.open(`https://twitter.com/intent/tweet?text=${text}&url=${url}`, '_blank');
        });

        document.getElementById('instagramBtn').addEventListener('click', () => {
            showNotification('To share on Instagram: 1. Take a screenshot of your card 2. Open Instagram 3. Post it as a story or feed post');
        });

        document.getElementById('telegramBtn').addEventListener('click', () => {
            const text = encodeURIComponent(`${cardTitle.textContent}\n\n${cardMessage.textContent}\n\n${cardSender.textContent}\n\n${window.location.href}`);
            window.open(`https://t.me/share/url?url=${text}`, '_blank');
        });

        document.getElementById('copyLinkBtn').addEventListener('click', () => {
            // Copy the current card details as a shareable link
            const cardData = {
                title: cardTitle.textContent,
                message: cardMessage.textContent,
                sender: cardSender.textContent,
                design: document.querySelector('.design-btn.active').className.match(/color\d+/)[0]
            };
            
            const encodedData = encodeURIComponent(JSON.stringify(cardData));
            const shareableLink = `${window.location.origin}${window.location.pathname}?card=${encodedData}`;
            
            navigator.clipboard.writeText(shareableLink)
                .then(() => showNotification('Card link copied to clipboard! Share it with anyone.'))
                .catch(err => {
                    console.error('Could not copy text: ', err);
                    showNotification('Failed to copy link. Please try again.');
                });
        });

        // Snowfall effect
        function createSnowflake() {
            const snowflake = document.createElement('div');
            snowflake.className = 'snowflake';
            snowflake.style.width = `${Math.random() * 5 + 5}px`;
            snowflake.style.height = snowflake.style.width;
            snowflake.style.left = `${Math.random() * 100}vw`;
            snowflake.style.top = '-10px';
            snowflake.style.opacity = Math.random() * 0.5 + 0.3;
            
            document.body.appendChild(snowflake);
            
            // Animation
            const duration = Math.random() * 10 + 10;
            snowflake.style.transition = `all ${duration}s linear`;
            
            setTimeout(() => {
                snowflake.style.top = '100vh';
                snowflake.style.left = `${parseFloat(snowflake.style.left) + (Math.random() - 0.5) * 100}px`;
            }, 10);
            
            // Remove snowflake after animation
            setTimeout(() => {
                snowflake.remove();
            }, duration * 1000);
        }

        // Firework effect
        function createFirework(x, y) {
            const colors = ['#ffd166', '#ff9e6d', '#ff6b6b', '#4ecdc4', '#45b7d1'];
            const particles = 20;
            
            for (let i = 0; i < particles; i++) {
                const particle = document.createElement('div');
                particle.className = 'firework';
                particle.style.left = `${x}px`;
                particle.style.top = `${y}px`;
                particle.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                
                document.body.appendChild(particle);
                
                // Random direction and distance
                const angle = Math.random() * Math.PI * 2;
                const distance = Math.random() * 50 + 30;
                const targetX = x + Math.cos(angle) * distance;
                const targetY = y + Math.sin(angle) * distance;
                
                // Animation
                particle.style.transition = `all 0.8s ease-out`;
                
                setTimeout(() => {
                    particle.style.left = `${targetX}px`;
                    particle.style.top = `${targetY}px`;
                    particle.style.opacity = '0';
                    particle.style.transform = 'scale(0)';
                }, 10);
                
                // Remove particle after animation
                setTimeout(() => {
                    particle.remove();
                }, 1000);
            }
        }

        // Create periodic effects
        setInterval(createSnowflake, 300);
        
        // Create occasional fireworks
        setInterval(() => {
            const x = Math.random() * window.innerWidth;
            const y = Math.random() * window.innerHeight * 0.7;
            createFirework(x, y);
        }, 3000);

        // Create initial fireworks
        setTimeout(() => {
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    const x = Math.random() * window.innerWidth;
                    const y = Math.random() * window.innerHeight * 0.7;
                    createFirework(x, y);
                }, i * 300);
            }
        }, 1000);

        // Notification function
        function showNotification(message) {
            // Remove existing notification
            const existingNotification = document.querySelector('.notification');
            if (existingNotification) {
                existingNotification.remove();
            }
            
            // Create new notification
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    notification.remove();
                }, 300);
            }, 3000);
        }

        // Generate a unique link for the card
        const cardId = Math.floor(Math.random() * 10000);
        siteLink.textContent = `https://ramadanwishes.com/card/${cardId}`;
        siteLink.href = `https://ramadanwishes.com/card/${cardId}`;
        
        // Check for card data in URL (for sharing)
        function loadCardFromURL() {
            const urlParams = new URLSearchParams(window.location.search);
            const cardDataParam = urlParams.get('card');
            
            if (cardDataParam) {
                try {
                    const cardData = JSON.parse(decodeURIComponent(cardDataParam));
                    
                    // Apply card data
                    cardTitle.textContent = cardData.title || cardTitle.textContent;
                    cardMessage.textContent = cardData.message || cardMessage.textContent;
                    cardSender.textContent = cardData.sender || cardSender.textContent;
                    
                    // Apply design if specified
                    if (cardData.design) {
                        const designButton = document.querySelector(`.${cardData.design}`);
                        if (designButton) {
                            designButton.click();
                        }
                    }
                    
                    showNotification('Ramadan card loaded successfully!');
                } catch (e) {
                    console.error('Error loading card data:', e);
                }
            }
        }
        
        // Load card data from URL if present
        loadCardFromURL();
        
        // Initialize with a random wish
        const randomWishIndex = Math.floor(Math.random() * autoWishes.length);
        cardMessage.textContent = autoWishes[randomWishIndex];
        
        // Show welcome notification
        setTimeout(() => {
            showNotification('Welcome! Your Ramadan card is ready. Customize and share with one click!');
        }, 1500);
    </script>
</body>
</html>
